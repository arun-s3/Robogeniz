@use "../base/variables" as *;
@use "../base/mixins" as *;
@use "../base/fonts";

.testimonials-section{
    padding-top: 4rem;
    padding-bottom: 4rem;
    opacity: 1;
    transform: none;

    .testimonial-card{
        background: white;
        border-top: 4px solid $site-orange;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        transition: all 0.3s ease;

        &:hover{
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
            transform: translateY(-5px);
        }

        i.bi-star-fill{
            font-size: 0.9rem;
            margin-right: 0.25rem;
        }

        .testimonial-author{
            border-top: 1px solid #eee;
            padding-top: 1rem;
        }
    }

    .reveal-card{
        opacity: 0;
        filter: blur(6px);
        transform: perspective(800px) translateZ(-120px) rotateX(6deg);
        transition:
            opacity 0.6s ease,
            filter 0.6s ease,
            transform 0.9s cubic-bezier(0.16, 1, 0.3, 1);
        position: relative;
        overflow: hidden;
    }

    &.is-visible .reveal-card{
        opacity: 1;
        filter: blur(0);
        transform: perspective(800px) translateZ(0) rotateX(0);
    }

    &.is-visible .reveal-card:nth-child(1){
        transition-delay: 0.15s;
    }

    &.is-visible .reveal-card:nth-child(2){
        transition-delay: 0.35s;
    }

    &.is-visible .reveal-card:nth-child(3){
        transition-delay: 0.55s;
    }

    .reveal-card::before{
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(120deg,
                transparent,
                rgba(255, 140, 80, 0.25),
                transparent);
        opacity: 0;
        transform: translateX(-100%);
        transition: transform 1s ease, opacity 0.5s ease;
        pointer-events: none;
    }

    &.is-visible .reveal-card::before{
        opacity: 1;
        transform: translateX(100%);
    }

    .testimonial-author, p,
    i.bi-star-fill{
        opacity: 0;
        transform: translateY(12px);
        transition: opacity 0.4s ease, transform 0.4s ease;
    }

    &.is-visible{

        .testimonial-author,
        p,
        i.bi-star-fill{
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.75s;
        }
    }
}
